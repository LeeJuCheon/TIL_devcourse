# 자이카 센서장치

1. 카메라 센서

    * 1080p USB 카메라
        + USB 2.0 , UVC 지원
        + 170도 어안렌즈 (넓은 지역을 보는 장점 대신 화면이 왜곡됨)
        + CMOS OV2710 Sensor(저렴, 저전력)
        + 120-fps(640x480), 30-fps(1920x 1080)

    * RGB
        + 빛의 3원색(Red, Green, Blue)
        + 각각의 색상을 8bits로 표현(255.255.255)

    * 해상도, PPI(pixel per inch), 화소수
        + 가로, 세로의 점의 개수에 관련된 내용

    * 카메라 센서 영상촬영
        + 연속된 사진을 찍어 이미지 파일로 전송
        + 최대 해상도 1920x1080
        + 하지만 Xycar에서는 640x480 사진을 초당 30장 촬영
        + 보통은 압축하여 전송하므로 더 높은 해상도와 초당 더 많은 프레임 전송이 가능

    * 카메라 기능 조정
        + 노출도(Exposure) : 주변 밝기에 따른 이미지 밝기 변화
        + 자동초점조정 : Auto-focus(실습할 때는 off)

2. IMU 센서
    * 관성측정장치(Inertial Measurement Unit)
        + 가속도계와 회전속도계, 자력계의 조합을 사용하여 어떤 물체(질량)에 가해지는 힘, 회전 각속도 등을 측정하는 장치
    
    * 변위 - 속도 - 가속도
        + 오른쪽으로 미분, 왼쪽으로 적분

    * 자이카에서 사용하는 IMU 센서
        + 6축 IMU 센서 MPU-6050
            - 가속도 센서 Accelerometer : 직선방향 가속도 감지, 중력가속도 감지
            - 자이로 센서 Gyroscope : 회전속도인 각속도를 감지
        
        + 9축 IMU 센서 SparkFun 9DoF Razor IMU M0
            - 가속도 센서 Accelerometer : 직선방향 가속도 감지, 중력가속도 감지
            - 자이로 센서 Gyroscope : 회전속도인 각속도를 감지
            - 지자계 센서 Magnetometer : N극 방향 감지, 방위각 감지

    * 가속도 센서
        + MEMS 기술로 만들어지는 센서
        + 반도체 칩 안에 입체적인 구조물
        + 이 구조물이 외부의 힘에 따라 움직이는 것을 전기적 신호로 바꾸어 출력
        + x,y,z축 방향의 직선 움직임과 기울어짐의 자세 파악

    * 자이로 센서
        + MEMS 기술 기반
        + X,Y,Z축을 기준으로 한 회전 움직임 감지
        
    * 지자기센서
        + 3축 나침반, 방위를 알려주는 디지털 나침반 기능

    * 세 방향의 축(1) - Roll
        + 이동 방향에 대하여 평행한 축 주위의 회전각을 나타냄
        + 차량이 코너링 할 때 옆으로 기울어지는 것을 감지할 수 있음
    
    * 세 방향의 축(2) - Pitch
        + 이동 방향에 대하여 수직을 이루는 축 주위의 회전각을 나타냄
        + 차량이 언덕을 올라가는 것과 내려오는 것 감지

    * 세 방향의 축(3) - Yaw
        + 이동 방향에 대하여 수직을 이루는 축 주위의 회전각
        + 차량의 좌회전/ 우회전 감지

3. 라이다 센서

    * 1채널, 2D 라이다
        + 0.9 도, 4000 sampling, 15cm - 18m range
        + 0.504도, 5000 sampling, 12cm - 12m range

    * 라이다 - LIDAR(light imaging Detection and Ranging)
        + 레이저 신호의 반사파를 이용
        + 짧은 주파수로 작은 물체도 감지가 가능
        + 정확한 3D 단색 이미지 구성 가능
    
    * 레이다 - RADAR(Radio Detection and Ranging)
        + 전파 신호의 반사파를 이용
        + 속도 감지 가능 (경찰의 과속 측정기에 사용)
        + 구름 많은 날씨 환경 및 야간에도 손쉽게 작동
        + LIDAR보다 더 긴 작동거리를 제공

    * 멀티 채널 라이다
        + 위아래 스캐닝 가능
        + 사람, 차량, 벽, 기둥 인식 가능

    * 라이다의 장애물 감지 기능
        + 돌발 장애물 : 1도단위로 거리 센싱하여 (X,Y) 좌표로 변환하여 장애물 위치 판단

    * 라이다의 센싱 데이터
        + 360도 회전하면서 1도씩 전망에 있는 장애물까지의 거리를 센싱

4. 초음파 센서
    * 초음파 정의 : 인간의 귀가 들을 수 있는 가청 주파수 대역보다 높은 진동수로 발생하는 파동
    
    * 후방 3개, 좌측 1개, 우측 1개에 장착

    * 초음파 센서의 동작(시그널)
        + Vcc : 센서 부품에 전력 공금(DC 5V)
        + GND : 회로의 그라운드에 연결
        + Trig : 센서를 동작시키기 위한 트리거 시그널(입력)
        + Echo : 거리 측정 결과를 전달하기 위한 시그널(출력)

    * 초음파 센서의 동작 시나리오
        1) 아두이노가 TRIG 핀에 10us 동안 High 신호를 내보낸다.
        2) 초음파 센서가 40kHz 초음파 펄스를 여덟개 만들어 물체로 보낸다.
        3) 물체에 반사된 초음파펄스가 되돌아가서 초음파 센서에 수신된다
        4) 센서는 송신과 수신의 시간차에 비례하여 길이의 펄스를 Echo 핀으로 출력한다 

    * 초음파 센서의 측정 오류
        + 쏜 신호가 모두 흡수되거나 다른 곳으로 팅겨나가면 오류

5. Depth 카메라 센서
    * 인텔 리얼센스 스테레오 카메라
    
    * 스테레오 카메라를 이용한 거리 측정(적외선 카메라 2개를 이용해 거리측정)

    * Depth 정보와 RGB 정보의 융합
        + 적외선 카메라 2개로 파악한 깊이 정보 + RGB 카메라로 찍은 이미지 정보
        + 3차원 공간에 칼라 이미지를 표시

