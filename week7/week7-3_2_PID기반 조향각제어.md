# PID기반 조향각 제어

1. PID제어의 개요
* Open Loop Control

* Closed Loop Control - > Measuring Element가 추가
    + 센터 등을 통해 데이터를 수집
    + 수집된 데이터를 기반으로 반복적인 피드백으로 제어하는 기법
    + PID control이 대표적

* 피드백 제어 : Process를 거쳐서 나온 Output이 Input에 영향을 미치는 Loop

* 단순 on/off 제어는 출력값의 변화가 크고, 시간이 지나도 목표값과의 오차는 줄어들지 않는다

* PID 제어기
    + 비례, 적분, 미분의 조합으로 적잘한 값을 도출하는 기법
        - 비례(Proportional)
        - 적분(Integral)
        - 미분(Differential)
    + 제어 대상의 목표값과 출력값과의 차이로 제어값을 계산

* 주요 용어
    + 오버슈트 : 최종 정상상태 값을 넘어서는 상승오차
    + 피크 시간 : 가장 큰 오버슈트가 발생했을 때의 시간
    + 상승 시간 : output의 0.1부터 0.9까지 이를 때 걸리는 시간
    + 정착 시간 : 최종 정상상태에 도달하는 시간

* P 제어
    + 피드백 제어신호가 오차에 비례하게 만드는 비례 제어기
    + Kp가 클 때 오차가 작아도 출력값이 크게 변함
        - 빠른 응답속도
        - 오버슈트가 발생
    + Kp가 작을 때 오차가 작을수록 출력값이 작게 변함
        - 오버슈트가 적게 발생
        - 느린 응답속도
    + P제어기만 사용할 경우 정상상태 오차가 발생
        - 정상상태오차 : 반응이 일정수준에 정착한 이후에도 존재하는 오차
        - (일정시간이 지난 이후 출력값) - (목표값)


* I 제어
    + 적분을 이용하여 비례 제어에서 남아있는 오차를 제거하는 제어 방법
    + 출력값이 목표값에 빠르게 도달하고 수렴하게 함 

    + Ki가 클 때 누적오차가 빠르게 증가
        - 빠른 응답속도
        - 오버슈트가 크게 발생

    + Ki가 작을 때 누적오차가 느리게 증가
        - 오버슈트가 작게 발생
        - 느린 응답속도
    + I제어기를 사용할 경우
        - 정상상태 오차를 줄일 수 있음
        - 오차가 없는 상태에서도 I 제어긱에 남아있는 누적오차 때문에 제어값이 계속 발생함

* D제어
    + 미분을 이용하여 진동을 줄이고 안정성을 향상하는 제어 방법

    + 급격한 출력값의 변동이 발생할 때 급격하게 변하지 않도록 함
    + 오차가 상수일 경우 D제어기의 출력은 0이되며 정상상태 오차를 줄일 수 없음
    + 특정 신호가 급변하는 경우 미분 제어기의 출력이 급격하게 커져 시스템을 파괴하는 경우도 있음

    + Kd가 클 때
        - 오버슈트가 작게 발생함
        - 신호가 급변하는 경우 시스템을 파괴할 수 있음
    + Kd가 작을 때
        - 신호가 급변하더라도 적절한 피드백을 할 수 있음
        - 오버슈트가 크게 발생
    + D 제어기를 사용할 경우
        - 시스템의 안정도를 증가시킬 수 있음
        - 미분이 불가능한 오차인 경우 적절한 제어가 되지 않을 수 있음

* gain값 사이의 trade-off때문에 적절한 타협이 필요
    + 주로 5% 이내의 오버슈트, 0.2초 내의 정착시간

* 통상적으로 Pgain은 1이하, I gain은 매우작게 0.001이하, D gain은 0.1이하로 설정(P gain의 1/10)

* [HW 1] 자이카 D 모델 PID gain값 찾기
* [HW 2] PID 기반 주행속도 제어